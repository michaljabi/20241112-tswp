<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Rating Form</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        :root {
            --bg-dark: rgb(24, 49, 83);
            --color-gold: #edd02e;
            --color-white: #fff;
        }

        .has-background-navy-dark {
            color: var(--color-white);
            background-color: var(--bg-dark);
        }
    </style>
</head>

<body class="has-background-navy-dark">
    <div class="columns is-multiline">
        <div class="column is-full">
            <section class="hero is-info">
                <div class="hero-body">
                    <p class="title">
                        ACME inc. :) ?
                    </p>
                    <p class="subtitle is-italic" data-subtitle>
<!--                        A Company that just Makes Everything...-->
                    </p>
                </div>
            </section>
        </div>
        <div class="column is-offset-1 is-10 p-6 is-offset-3-widescreen is-6-widescreen" data-form-wrapper>
<!--            <h3 class="title has-text-light is-3">Rate our company</h3>-->
            <section class="box" style="border: 1px solid #ccc; border-radius: 1em;">
                <form>
                    <div class="field is-horizontal">
                        <div class="field-label is-normal">
                            <label for="email" class="label">e-mail*:</label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control">
                                    <input id="email" class="input" type="email" placeholder="your @ address">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label is-normal">
                            <label for="rate" class="label">rate*:</label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control is-flex">
                                    <div class="p-2 px-4 has-text-weight-bold">4</div>
                                    <input id="rate" class="input" type="range" min="1" max="5" value="4">
                                </div>
                                <!--
                                <div class="p-2">
                                    <i class="fa-solid fa-star" style="color: var(--color-gold);"></i>
                                    <i class="fa-solid fa-star" style="color: var(--color-gold);"></i>
                                    <i class="fa-solid fa-star" style="color: var(--color-gold);"></i>
                                    <i class="fa-solid fa-star" style="color: var(--color-gold);"></i>
                                    <i class="fa-regular fa-star" style="color: var(--color-gold);"></i>
                                </div>
                                -->
                            </div>
                        </div>
                    </div>
                    <div class="field is-horizontal">
                        <div class="field-label is-normal">
                            <label for="opinion" class="label">opinion:</label>
                        </div>
                        <div class="field-body">
                            <div class="field">
                                <div class="control">
                                    <textarea id="opinion" class="textarea"
                                        placeholder="...something more about your feelings"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="is-flex is-justify-content-end">
                        <div class="control">
                            <button class="button is-link" type="submit">Send my testimonial</button>
                        </div>
                    </div>
                </form>
            </section>
        </div>
    </div>
    <script>
        const subtitle = document.querySelector('[data-subtitle]');
        subtitle.textContent = 'A Company that just Makes Everything...'

        const h3Rate = document.createElement('h3');
        h3Rate.className = 'title has-text-light is-3'
        h3Rate.textContent = 'Rate our company';
        console.dir(h3Rate)
        console.log(h3Rate.constructor.name)


        console.log(h3Rate instanceof HTMLHeadingElement)
        console.log(h3Rate instanceof HTMLElement)

        const formWrapper = document.querySelector('[data-form-wrapper]');

        const titles = ['This', 'is', 'my', 'example']

        function makeH3(title = 'Rate our company') {
            const h3Rate = document.createElement('h3');
            h3Rate.className = 'title has-text-light is-3'
            h3Rate.textContent = title;

            //
            h3Rate.addEventListener('click', () => {
                h3Rate.textContent += '!'
            })

            return h3Rate;
        }

        // solution 1:
        // for(const title of titles.toReversed()) {
        //     formWrapper.prepend(makeH3(title))
        // }

        //console.log(titles)
        // solution 2: functional programming

        // 1. ['This', 'is', 'my', 'example', null]
        // 2. map(makeH3)
        // 3. [makeH3('This'), makeH3('is'), makeH3('my'), makeH3('example')]
        // 4. formWrapper.prepend(...[makeH3('This'), makeH3('is'), makeH3('my'), makeH3('example')])
        const titlesAsH3s = titles.filter(startsWithLowerCase).map(makeH3) // === titles.map((title) => makeH3(title))
        console.log(titlesAsH3s)


        formWrapper.prepend(...titlesAsH3s)
        // formWrapper.prepend(makeH3('This'), makeH3('is'))

        // pure function
        // 1. same input / same output
        // 2. no side effects
        // 3. single responsibility
        // (predykat akurat => predykat = funkcja kt√≥ra dla danych zwraca true/false)
        function startsWithLowerCase(word = '') {
            return word.charAt(0) === word.charAt(0).toLowerCase();
        }
    </script>
</body>

</html>